# TODO list

a timeline is created when more than one move ends on the same board

maybe a `timelines` view?
`board_states` view
`available_moves` view -- hmm.  maybe this is also useful in validation

knight movement definitions
pawn movement definitions

big piece switch statement with movement mechanic defintions?  joins of some sort?  left join after left join?
dynamic and/or normalized movement defintions?  maybe this even simplifies some things.


more on `moves` constraints: (`-` means the constraint is in `moves` itself, `?` means it's partially enforceable there, ` ` means not at all)
 - you have to actually move
 ? players must move their own pieces
   you can only capture the enemy's pieces
   any linear movement stops as soon as it encounters another piece
 ? any linear movement stops if it hits an edge of a board
   any linear movement through time or timelines stops if there's no board, a gap
   knights can jump over gaps
 ? any given board cannot be moved from twice -- unless castling
   the move has to actually make sense for the given piece
   if a move is made, it must be from a position previously moved to or from the starting position
   a timeline is created when moving to a board which has already been moved to
 ? timelines stack according to their creator
 - moves alternate between pieces of opposing color
   pieces are removed when taken
 ? moving between boards uses up the moves of both (a board moved to cannot be moved from unless both actions happened in the same move)
   if one is in check, one cannot move a piece except to leave check
   one cannot move a piece such that one enters oneself into check
   pawns move one square forward in the direction of their color
   pawns can move two squares on initial movement
   pawns must move diagonally to capture
   pawns can only move diagonally when capturing
   pawns can en-passant each other
   castling can only happen if neither piece has moved
   castling can only happen if there are not pieces between the two
   castling cannot happen in check
   when castling, the king moves 2 squares
   pawn promotion
 ? a timeline cannot be moved from if it is inactive (this might actually be enforeceable in `moves`)

observations:
there are no cycles.  This could be handy.
everything is finite
